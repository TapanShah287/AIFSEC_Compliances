{% extends "base.html" %}

{% block title %}Create Compliance Task - AIF SEC{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto">
    <div class="flex items-center gap-4 mb-8">
        <a href="{% url 'compliances:portal-home' %}" class="w-10 h-10 flex items-center justify-center bg-white rounded-xl shadow-sm text-secondary hover:text-primary transition border border-slate-100">
            <i class="bi bi-arrow-left"></i>
        </a>
        <h1 class="text-3xl font-bold text-dark tracking-tight">New Compliance Task</h1>
    </div>

    <form method="post" class="bg-white rounded-3xl shadow-sm border border-slate-100 p-8 md:p-12 space-y-8">
        {% csrf_token %}
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="space-y-2">
                <label class="block text-[10px] font-black text-secondary uppercase tracking-widest">Target Fund</label>
                {{ form.fund }}
                {% if form.fund.errors %}<p class="text-xs text-danger font-bold mt-1">{{ form.fund.errors.0 }}</p>{% endif %}
            </div>

            <div class="space-y-2">
                <label class="block text-[10px] font-black text-secondary uppercase tracking-widest">Filing Topic</label>
                {{ form.topic }}
                {% if form.topic.errors %}<p class="text-xs text-danger font-bold mt-1">{{ form.topic.errors.0 }}</p>{% endif %}
            </div>

            <div class="col-span-2 space-y-2">
                <label class="block text-[10px] font-black text-secondary uppercase tracking-widest">Requirement Description</label>
                {{ form.description }}
                {% if form.description.errors %}<p class="text-xs text-danger font-bold mt-1">{{ form.description.errors.0 }}</p>{% endif %}
            </div>

            <div class="space-y-2">
                <label class="block text-[10px] font-black text-secondary uppercase tracking-widest">Due Date</label>
                {{ form.due_date }}
                {% if form.due_date.errors %}<p class="text-xs text-danger font-bold mt-1">{{ form.due_date.errors.0 }}</p>{% endif %}
            </div>

            <div class="space-y-2">
                <label class="block text-[10px] font-black text-secondary uppercase tracking-widest">Assigned Specialist</label>
                {{ form.assigned_to }}
            </div>

            <div class="col-span-2 space-y-2">
                <label class="block text-[10px] font-black text-secondary uppercase tracking-widest">Technical Notes</label>
                {{ form.notes }}
            </div>
        </div>

        <div class="pt-10 border-t border-slate-50 flex justify-end gap-3">
            <a href="{% url 'compliances:portal-home' %}" class="px-8 py-3 text-secondary font-bold hover:bg-slate-50 rounded-xl transition">Cancel</a>
            <button type="submit" class="px-10 py-3 bg-primary text-white font-bold rounded-xl shadow-xl shadow-primary/20 hover:bg-indigo-700 transition">
                Create Task
            </button>
        </div>
    </form>
</div>

<style>
    /* Styling Django widgets to match UI theme */
    select, input[type="text"], input[type="date"], textarea {
        width: 100%; padding: 0.85rem 1rem; background-color: #f8fafc; border: 1px solid #f1f5f9; border-radius: 1rem;
        font-weight: 600; font-size: 0.875rem; color: #0f172a; outline: none; transition: all 0.2s;
    }
    input:focus, select:focus, textarea:focus { border-color: #4f46e5; box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.05); background-color: #fff; }
</style>
{% endblock %}